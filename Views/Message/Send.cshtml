@model MittClick.Models.ViewModels.SendMessageViewModel


<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-9 col-lg-6">
            <div class="card">
                <div class="card-header text-center">
                    <h4> Meddelande </h4>
                </div>
                <div class="card-body">

                    <form asp-action="Send" asp-controller="Message" method="post" enctype="multipart/form-data">

                        <input type="hidden" asp-for="ReceiverId" value="@Model.ReceiverId" />
  
                        <input type="hidden" asp-for="ReceiverName" value="@Model.ReceiverName" />
                        
                        <div class="form-floating mt-2">
							<p id="receiver" class="form-control-static"><strong>Till:</strong> @Model.ReceiverName</p>
                        </div>

                        <div class="form-floating mt-2">
                            <textarea asp-for="Text" class="form-control" placeholder="Meddelande" style="resize: none;height: 200px;"></textarea>
                            <label for="Text" class="form-label">Meddelande</label>
                            <span asp-validation-for="Text" class="text-danger"></span>
                        </div>

                        @if (!User.Identity.IsAuthenticated)
                        {
                           <div class="form-floating mt-2">
                            <input type="text" asp-for="SenderName" id="Sender" class="form-control" placeholder="Avsändare" />
                            <label for="Sender" class="form-label">Avsändare</label>
                            <span asp-validation-for="SenderName" class="text-danger"></span>
                            </div>
                        }
                        else
                        {
                            @Html.HiddenFor(model => model.SenderName)
                        }

                        <div class="form-group text-end">
                            <button type="submit" class="btn btn-primary btn-block mt-2" data-bs-toggle="tooltip" data-bs-placement="top" title="Skicka meddelande">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send-fill" viewBox="0 0 16 16">
                                    <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471z" />
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
